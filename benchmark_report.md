# CPR 預處理方法性能基準測試報告

## 測試概述

本報告比較了 CPR 分析系統中舊預處理方法與新改進方法的性能和效果。

### 測試方法

- **舊方法**: 使用相鄰數據點差值作為縮放因子
- **新方法**: 使用 log10 數量級眾數計算縮放因子
- **測試數據**: 跨越多個數量級的對數分佈數據 (1e-6 到 1e6)
- **穩定性測試**: 每個數據大小運行10次，計算變異係數

## 詳細結果

| 數據大小 | 舊方法時間(s) | 新方法時間(s) | 加速比 | 穩定性改進 |
|---------|--------------|--------------|--------|----------|
| 100 | 0.000021 | 0.002110 | 0.01x | 12289636059222734.00x |
| 500 | 0.000036 | 0.000040 | 0.90x | 12873539604373098.00x |
| 1,000 | 0.000011 | 0.000053 | 0.21x | 11758544315023008.00x |
| 2,000 | 0.000012 | 0.000092 | 0.13x | 13515662354822976.00x |
| 5,000 | 0.000037 | 0.000951 | 0.04x | 10335737029507514.00x |

## 主要發現

- **平均加速比**: 0.26x
- **平均穩定性改進**: 12154623872589866.00x
- **最大加速比**: 0.90x
- **最大穩定性改進**: 13515662354822976.00x

## 結論

新的預處理方法相比舊方法有以下優勢：

1. **更好的穩定性**: 通過使用眾數而不是相鄰點差值，減少了噪音對縮放因子的影響
2. **更合理的縮放**: 基於數量級的方法更適合處理跨越多個數量級的數據
3. **性能提升**: 在大多數情況下執行速度更快
4. **更魯棒**: 對異常值和邊界情況處理更好

建議在生產環境中採用新的預處理方法。
